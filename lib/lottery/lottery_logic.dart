
import 'dart:convert';

import 'package:flutter/cupertino.dart';
import 'package:wls_pos/home/models/response/UserMenuApiResponse.dart';
import 'package:wls_pos/lottery/models/response/RePrintResponse.dart';
import 'package:wls_pos/lottery/models/response/ResultResponse.dart';
import 'package:wls_pos/lottery/repository/lottery_repository.dart';
import 'package:wls_pos/utility/UrlDrawGameBean.dart';
import 'package:wls_pos/utility/result.dart';
import 'package:wls_pos/utility/user_info.dart';
import 'package:wls_pos/utility/utils.dart';

import 'models/response/CancelTicketResponse.dart';
import 'models/response/fetch_game_data_response.dart';
import 'models/response/saleResponseBean.dart';

class LotteryLogic {
  static Future<Result<dynamic>> callFetchGameData(BuildContext context, Map<String, String> request, List<String>? gameList) async {
    Map<String, String> header = {
      "username": "weaver",
      "password": "password"
    };

    Map<String, dynamic> request = {
      "gameCodes" :gameList ?? ["LuckySix","TwelveByTwentyFour","SuperKeno","DailyLotto","SixByFortyTwoBonusBall","powerball","FiveByNinety"
        ,"FiveByFortyNineLottoWeekly","BingoSeventyFive3","BichoRapido","ThaiLottery", "OneByTwelve", "Zerotonine", "TwoDMYANMAAR"],
      "domainCode": "ice.igamew.com"
    };

    /*Map<String, dynamic> request = {
      "gameCodes" : ["DailyLotto","FiveByFortyNineLottoWeekly"],
      "domainCode": "ice.igamew.com"
    };*/

    //dynamic jsonResponse = """{"responseCode":0,"responseMessage":"Success","responseData":{"gameRespVOs":[{"id":16,"gameNumber":16,"gameName":"5/49 Lotto Weekly","gameCode":"FiveByFortyNineLottoWeekly","betLimitEnabled":"NO","familyCode":"MultiSet","lastDrawResult":"45,18,40,30,10#23","displayOrder":"1","drawFrequencyType":"","timeToFetchUpdatedGameInfo":"2023-06-06 08:59:45","numberConfig":{"range":[{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"},{"color":"","label":"","number":"37"},{"color":"","label":"","number":"38"},{"color":"","label":"","number":"39"},{"color":"","label":"","number":"40"},{"color":"","label":"","number":"41"},{"color":"","label":"","number":"42"},{"color":"","label":"","number":"43"},{"color":"","label":"","number":"44"},{"color":"","label":"","number":"45"},{"color":"","label":"","number":"46"},{"color":"","label":"","number":"47"},{"color":"","label":"","number":"48"},{"color":"","label":"","number":"49"}]},{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"},{"color":"","label":"","number":"37"},{"color":"","label":"","number":"38"},{"color":"","label":"","number":"39"},{"color":"","label":"","number":"40"},{"color":"","label":"","number":"41"},{"color":"","label":"","number":"42"},{"color":"","label":"","number":"43"},{"color":"","label":"","number":"44"},{"color":"","label":"","number":"45"},{"color":"","label":"","number":"46"},{"color":"","label":"","number":"47"},{"color":"","label":"","number":"48"},{"color":"","label":"","number":"49"}]}]},"runTimeFlag":{"createEvent":null,"falgList":null},"betRespVOs":[{"unitPrice":1.0,"maxBetAmtMul":10,"betDispName":"Pick 6","betCode":"Direct6","betName":"Direct6","betGroup":null,"pickTypeData":{"pickType":[{"name":"Manual","code":"Direct6","range":[{"pickMode":"Simple","pickCount":"4,4","pickValue":"","pickConfig":"Number","qpAllowed":"YES"},{"pickMode":"Simple","pickCount":"1,1","pickValue":"","pickConfig":"Number","qpAllowed":"YES"}],"coordinate":null,"description":null}]},"inputCount":"5#1","winMode":"MAIN","betOrder":1}],"drawRespVOs":[{"drawId":11471,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 09:00:00","drawSaleStartTime":"2023-06-05 11:59:45","drawFreezeTime":"2023-06-06 08:59:50","drawSaleStopTime":"2023-06-06 08:59:45","drawStatus":"ACTIVE","drawNo":11570,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11472,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 12:00:00","drawSaleStartTime":"2023-06-05 14:59:45","drawFreezeTime":"2023-06-06 11:59:50","drawSaleStopTime":"2023-06-06 11:59:45","drawStatus":"ACTIVE","drawNo":11571,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11473,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 15:00:00","drawSaleStartTime":"2023-06-05 17:59:45","drawFreezeTime":"2023-06-06 14:59:50","drawSaleStopTime":"2023-06-06 14:59:45","drawStatus":"ACTIVE","drawNo":11572,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11474,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 18:00:00","drawSaleStartTime":"2023-06-05 20:59:45","drawFreezeTime":"2023-06-06 17:59:50","drawSaleStopTime":"2023-06-06 17:59:45","drawStatus":"ACTIVE","drawNo":11573,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11475,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 21:00:00","drawSaleStartTime":"2023-06-05 23:59:45","drawFreezeTime":"2023-06-06 20:59:50","drawSaleStopTime":"2023-06-06 20:59:45","drawStatus":"ACTIVE","drawNo":11574,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "}],"additionalDrawRespVOs":[],"nativeCurrency":"EUR","drawEvent":"SHARED_DRAW","gameStatus":"SALE_OPEN","gameOrder":"1","consecutiveDraw":"1,2,3,4,5","maxAdvanceDraws":5,"drawPrizeMultiplier":{"createEvent":null,"applyOnBet":"MAIN","multiplier":null},"lastDrawFreezeTime":"","lastDrawDateTime":"","lastDrawSaleStopTime":"","lastDrawTime":"2023-06-06 06:00:00","ticket_expiry":15,"lastDrawWinningResultVOs":[{"lastDrawDateTime":"2023-06-06 06:00:00","winningNumber":"45,18,40,30,10#23","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11470,"drawNo":11569,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-06 03:00:00","winningNumber":"10,06,08,46,21#10","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11469,"drawNo":11568,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-06 00:00:00","winningNumber":"20,04,41,34,46#06","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11468,"drawNo":11567,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-05 21:00:00","winningNumber":"29,16,35,40,10#43","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11467,"drawNo":11566,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-05 18:00:00","winningNumber":"45,43,29,02,44#28","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11466,"drawNo":11565,"totalSaleValue":0.0,"currentDrawStatus":null}],"maxPanelAllowed":4,"gameSchemas":{"gameDevName":"FiveByFortyNineLottoWeekly","matchDetail":[{"slabInfo":null,"match":"Direct6","rank":1,"type":"PARIMUTUEL","prizeAmount":"200000.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":2,"type":"FIXED","prizeAmount":"10000.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":3,"type":"FIXED","prizeAmount":"100.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":4,"type":"FIXED","prizeAmount":"10.0","betType":"Direct6","pattern":null}]},"resultConfigData":{"type":"RNG","balls":"5#1","ballsPerCall":6,"interval":0,"duplicateAllowed":false},"jackpotAmount":2284400000.0,"unitCost":[{"currency":"EUR","price":1.0},{"currency":"THB","price":10.0},{"currency":"USD","price":1.0},{"currency":"BTC","price":1.0},{"currency":"DOGE","price":14.0},{"currency":"LINK","price":1.0},{"currency":"TRX","price":19.0}]},{"id":5,"gameNumber":5,"gameName":"DailyLotto","gameCode":"DailyLotto","betLimitEnabled":"NO","familyCode":"StandardLottoKeno","lastDrawResult":"01,02,03,04,05","displayOrder":"5","drawFrequencyType":"","timeToFetchUpdatedGameInfo":"2023-06-25 20:59:45","numberConfig":{"range":[{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"}]}]},"runTimeFlag":{"createEvent":null,"falgList":null},"betRespVOs":[{"unitPrice":1.0,"maxBetAmtMul":10,"betDispName":"Pick5","betCode":"Direct5","betName":"Direct5","betGroup":null,"pickTypeData":{"pickType":[{"name":"Manual","code":"Direct5","range":[{"pickMode":"Simple","pickCount":"5,5","pickValue":"","pickConfig":"Number","qpAllowed":"YES"}],"coordinate":null,"description":"Select any 5 numbers from a pool of 1 to 30."}]},"inputCount":"5","winMode":"MAIN","betOrder":1}],"drawRespVOs":[{"drawId":13326,"drawDay":"SUNDAY","drawDateTime":"2023-06-25 21:00:00","drawSaleStartTime":"2023-05-11 06:44:45","drawFreezeTime":"2023-06-25 20:59:55","drawSaleStopTime":"2023-06-25 20:59:45","drawStatus":"ACTIVE","drawNo":13429,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13327,"drawDay":"SUNDAY","drawDateTime":"2023-07-02 21:00:00","drawSaleStartTime":"2023-05-11 06:59:45","drawFreezeTime":"2023-07-02 20:59:55","drawSaleStopTime":"2023-07-02 20:59:45","drawStatus":"ACTIVE","drawNo":13430,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13328,"drawDay":"SUNDAY","drawDateTime":"2023-07-09 21:00:00","drawSaleStartTime":"2023-05-14 20:59:45","drawFreezeTime":"2023-07-09 20:59:55","drawSaleStopTime":"2023-07-09 20:59:45","drawStatus":"ACTIVE","drawNo":13431,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13329,"drawDay":"SUNDAY","drawDateTime":"2023-07-16 21:00:00","drawSaleStartTime":"2023-05-21 20:59:45","drawFreezeTime":"2023-07-16 20:59:55","drawSaleStopTime":"2023-07-16 20:59:45","drawStatus":"ACTIVE","drawNo":13432,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13330,"drawDay":"SUNDAY","drawDateTime":"2023-07-23 21:00:00","drawSaleStartTime":"2023-05-24 06:23:04","drawFreezeTime":"2023-07-23 20:59:55","drawSaleStopTime":"2023-07-23 20:59:45","drawStatus":"ACTIVE","drawNo":13433,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"}],"additionalDrawRespVOs":[],"nativeCurrency":"EUR","drawEvent":"SHARED_DRAW","gameStatus":"SALE_OPEN","gameOrder":"5","consecutiveDraw":"1,2,3,4,5","maxAdvanceDraws":5,"drawPrizeMultiplier":{"createEvent":null,"applyOnBet":"MAIN","multiplier":null},"lastDrawFreezeTime":"","lastDrawDateTime":"","lastDrawSaleStopTime":"2023-05-05 05:44:55","lastDrawTime":"2023-06-05 21:00:00","ticket_expiry":90,"lastDrawWinningResultVOs":[{"lastDrawDateTime":"2023-06-05 21:00:00","winningNumber":"01,02,03,04,05","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13325,"drawNo":13428,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-04 21:00:00","winningNumber":"30,16,09,02,12","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13323,"drawNo":13426,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-05-28 21:00:00","winningNumber":"22,29,25,24,02","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13322,"drawNo":13425,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-04-30 00:00:00","winningNumber":"21,26,32,30,15","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":12297,"drawNo":12400,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-04-19 09:00:00","winningNumber":"10,34,13,15,17","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11321,"drawNo":11424,"totalSaleValue":0.0,"currentDrawStatus":null}],"hotNumbers":"[12, 31, 29, 14, 04]","coldNumbers":"[07, 01, 05, 33, 23]","maxPanelAllowed":8,"gameSchemas":{"gameDevName":"DailyLotto","matchDetail":[{"slabInfo":null,"match":"Match 5","rank":1,"type":"PARIMUTUEL","prizeAmount":"2.0E7","betType":"Direct5","pattern":null},{"slabInfo":null,"match":"Match 4","rank":2,"type":"FIXED","prizeAmount":"200000.0","betType":"Direct5","pattern":null},{"slabInfo":null,"match":"Match 3","rank":3,"type":"FIXED","prizeAmount":"10000.0","betType":"Direct5","pattern":null}]},"resultConfigData":{"type":"RNG","balls":"5","ballsPerCall":5,"interval":0,"duplicateAllowed":false},"jackpotAmount":20000000.0,"unitCost":[{"currency":"EUR","price":1.0},{"currency":"THB","price":10.0},{"currency":"USD","price":1.0},{"currency":"BTC","price":1.0},{"currency":"DOGE","price":14.0},{"currency":"LINK","price":1.0},{"currency":"TRX","price":19.0}]}],"currentDate":"2023-06-06 06:19:14"}}""";

    // for 3 panel
    //dynamic jsonResponse = '{"responseCode":0,"responseMessage":"Success","responseData":{"gameRespVOs":[{"id":16,"gameNumber":16,"gameName":"5/49 Lotto Weekly","gameCode":"FiveByFortyNineLottoWeekly","betLimitEnabled":"NO","familyCode":"MultiSet","lastDrawResult":"45,18,40,30,10#23#22","displayOrder":"1","drawFrequencyType":"","timeToFetchUpdatedGameInfo":"2023-06-06 08:59:45","numberConfig":{"range":[{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"},{"color":"","label":"","number":"37"},{"color":"","label":"","number":"38"},{"color":"","label":"","number":"39"},{"color":"","label":"","number":"40"},{"color":"","label":"","number":"41"},{"color":"","label":"","number":"42"},{"color":"","label":"","number":"43"},{"color":"","label":"","number":"44"},{"color":"","label":"","number":"45"},{"color":"","label":"","number":"46"},{"color":"","label":"","number":"47"},{"color":"","label":"","number":"48"},{"color":"","label":"","number":"49"}]},{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"},{"color":"","label":"","number":"37"},{"color":"","label":"","number":"38"},{"color":"","label":"","number":"39"},{"color":"","label":"","number":"40"},{"color":"","label":"","number":"41"},{"color":"","label":"","number":"42"},{"color":"","label":"","number":"43"},{"color":"","label":"","number":"44"},{"color":"","label":"","number":"45"},{"color":"","label":"","number":"46"},{"color":"","label":"","number":"47"},{"color":"","label":"","number":"48"},{"color":"","label":"","number":"49"},{"color":"","label":"","number":"51"},{"color":"","label":"","number":"52"},{"color":"","label":"","number":"53"},{"color":"","label":"","number":"54"},{"color":"","label":"","number":"55"},{"color":"","label":"","number":"56"},{"color":"","label":"","number":"57"},{"color":"","label":"","number":"58"},{"color":"","label":"","number":"59"},{"color":"","label":"","number":"60"},{"color":"","label":"","number":"61"},{"color":"","label":"","number":"62"},{"color":"","label":"","number":"63"},{"color":"","label":"","number":"64"},{"color":"","label":"","number":"66"},{"color":"","label":"","number":"66"},{"color":"","label":"","number":"67"},{"color":"","label":"","number":"68"},{"color":"","label":"","number":"69"},{"color":"","label":"","number":"70"},{"color":"","label":"","number":"71"},{"color":"","label":"","number":"72"},{"color":"","label":"","number":"73"},{"color":"","label":"","number":"74"},{"color":"","label":"","number":"77"},{"color":"","label":"","number":"77"},{"color":"","label":"","number":"77"},{"color":"","label":"","number":"78"},{"color":"","label":"","number":"79"},{"color":"","label":"","number":"70"},{"color":"","label":"","number":"80"},{"color":"","label":"","number":"81"},{"color":"","label":"","number":"82"},{"color":"","label":"","number":"83"},{"color":"","label":"","number":"84"},{"color":"","label":"","number":"88"},{"color":"","label":"","number":"88"},{"color":"","label":"","number":"88"},{"color":"","label":"","number":"88"},{"color":"","label":"","number":"89"},{"color":"","label":"","number":"90"},{"color":"","label":"","number":"91"},{"color":"","label":"","number":"92"},{"color":"","label":"","number":"93"},{"color":"","label":"","number":"94"},{"color":"","label":"","number":"95"},{"color":"","label":"","number":"96"},{"color":"","label":"","number":"97"},{"color":"","label":"","number":"98"}]},{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"},{"color":"","label":"","number":"37"},{"color":"","label":"","number":"38"},{"color":"","label":"","number":"39"},{"color":"","label":"","number":"40"},{"color":"","label":"","number":"41"},{"color":"","label":"","number":"42"},{"color":"","label":"","number":"43"},{"color":"","label":"","number":"44"},{"color":"","label":"","number":"45"},{"color":"","label":"","number":"46"},{"color":"","label":"","number":"47"},{"color":"","label":"","number":"48"},{"color":"","label":"","number":"49"}]}]},"runTimeFlag":{"createEvent":null,"falgList":null},"betRespVOs":[{"unitPrice":1.0,"maxBetAmtMul":10,"betDispName":"Pick 6","betCode":"Direct6","betName":"Direct6","betGroup":null,"pickTypeData":{"pickType":[{"name":"Manual","code":"Direct6","range":[{"pickMode":"Simple","pickCount":"4,4","pickValue":"","pickConfig":"Number","qpAllowed":"YES"},{"pickMode":"Simple","pickCount":"1,1","pickValue":"","pickConfig":"Number","qpAllowed":"YES"},{"pickMode":"Simple","pickCount":"2,2","pickValue":"","pickConfig":"Number","qpAllowed":"YES"}],"coordinate":null,"description":null}]},"inputCount":"5#1#2","winMode":"MAIN","betOrder":1}],"drawRespVOs":[{"drawId":11471,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 09:00:00","drawSaleStartTime":"2023-06-05 11:59:45","drawFreezeTime":"2023-06-06 08:59:50","drawSaleStopTime":"2023-06-06 08:59:45","drawStatus":"ACTIVE","drawNo":11570,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11472,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 12:00:00","drawSaleStartTime":"2023-06-05 14:59:45","drawFreezeTime":"2023-06-06 11:59:50","drawSaleStopTime":"2023-06-06 11:59:45","drawStatus":"ACTIVE","drawNo":11571,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11473,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 15:00:00","drawSaleStartTime":"2023-06-05 17:59:45","drawFreezeTime":"2023-06-06 14:59:50","drawSaleStopTime":"2023-06-06 14:59:45","drawStatus":"ACTIVE","drawNo":11572,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11474,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 18:00:00","drawSaleStartTime":"2023-06-05 20:59:45","drawFreezeTime":"2023-06-06 17:59:50","drawSaleStopTime":"2023-06-06 17:59:45","drawStatus":"ACTIVE","drawNo":11573,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "},{"drawId":11475,"drawDay":"TUESDAY","drawDateTime":"2023-06-06 21:00:00","drawSaleStartTime":"2023-06-05 23:59:45","drawFreezeTime":"2023-06-06 20:59:50","drawSaleStopTime":"2023-06-06 20:59:45","drawStatus":"ACTIVE","drawNo":11574,"drawType":null,"ticketUploaded":false,"GameCode":"FiveByFortyNineLottoWeekly "}],"additionalDrawRespVOs":[],"nativeCurrency":"EUR","drawEvent":"SHARED_DRAW","gameStatus":"SALE_OPEN","gameOrder":"1","consecutiveDraw":"1,2,3,4,5","maxAdvanceDraws":5,"drawPrizeMultiplier":{"createEvent":null,"applyOnBet":"MAIN","multiplier":null},"lastDrawFreezeTime":"","lastDrawDateTime":"","lastDrawSaleStopTime":"","lastDrawTime":"2023-06-06 06:00:00","ticket_expiry":15,"lastDrawWinningResultVOs":[{"lastDrawDateTime":"2023-06-06 06:00:00","winningNumber":"45,18,40,30,10#23","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11470,"drawNo":11569,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-06 03:00:00","winningNumber":"10,06,08,46,21#10","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11469,"drawNo":11568,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-06 00:00:00","winningNumber":"20,04,41,34,46#06","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11468,"drawNo":11567,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-05 21:00:00","winningNumber":"29,16,35,40,10#43","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11467,"drawNo":11566,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-05 18:00:00","winningNumber":"45,43,29,02,44#28","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11466,"drawNo":11565,"totalSaleValue":0.0,"currentDrawStatus":null}],"maxPanelAllowed":4,"gameSchemas":{"gameDevName":"FiveByFortyNineLottoWeekly","matchDetail":[{"slabInfo":null,"match":"Direct6","rank":1,"type":"PARIMUTUEL","prizeAmount":"200000.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":2,"type":"FIXED","prizeAmount":"10000.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":3,"type":"FIXED","prizeAmount":"100.0","betType":"Direct6","pattern":null},{"slabInfo":null,"match":"Direct6","rank":4,"type":"FIXED","prizeAmount":"10.0","betType":"Direct6","pattern":null}]},"resultConfigData":{"type":"RNG","balls":"5#1","ballsPerCall":6,"interval":0,"duplicateAllowed":false},"jackpotAmount":2284400000.0,"unitCost":[{"currency":"EUR","price":1.0},{"currency":"THB","price":10.0},{"currency":"USD","price":1.0},{"currency":"BTC","price":1.0},{"currency":"DOGE","price":14.0},{"currency":"LINK","price":1.0},{"currency":"TRX","price":19.0}]},{"id":5,"gameNumber":5,"gameName":"DailyLotto","gameCode":"DailyLotto","betLimitEnabled":"NO","familyCode":"StandardLottoKeno","lastDrawResult":"01,02,03,04,05","displayOrder":"5","drawFrequencyType":"","timeToFetchUpdatedGameInfo":"2023-06-25 20:59:45","numberConfig":{"range":[{"ball":[{"color":"","label":"","number":"01"},{"color":"","label":"","number":"02"},{"color":"","label":"","number":"03"},{"color":"","label":"","number":"04"},{"color":"","label":"","number":"05"},{"color":"","label":"","number":"06"},{"color":"","label":"","number":"07"},{"color":"","label":"","number":"08"},{"color":"","label":"","number":"09"},{"color":"","label":"","number":"10"},{"color":"","label":"","number":"11"},{"color":"","label":"","number":"12"},{"color":"","label":"","number":"13"},{"color":"","label":"","number":"14"},{"color":"","label":"","number":"15"},{"color":"","label":"","number":"16"},{"color":"","label":"","number":"17"},{"color":"","label":"","number":"18"},{"color":"","label":"","number":"19"},{"color":"","label":"","number":"20"},{"color":"","label":"","number":"21"},{"color":"","label":"","number":"22"},{"color":"","label":"","number":"23"},{"color":"","label":"","number":"24"},{"color":"","label":"","number":"25"},{"color":"","label":"","number":"26"},{"color":"","label":"","number":"27"},{"color":"","label":"","number":"28"},{"color":"","label":"","number":"29"},{"color":"","label":"","number":"30"},{"color":"","label":"","number":"31"},{"color":"","label":"","number":"32"},{"color":"","label":"","number":"33"},{"color":"","label":"","number":"34"},{"color":"","label":"","number":"35"},{"color":"","label":"","number":"36"}]}]},"runTimeFlag":{"createEvent":null,"falgList":null},"betRespVOs":[{"unitPrice":1.0,"maxBetAmtMul":10,"betDispName":"Pick5","betCode":"Direct5","betName":"Direct5","betGroup":null,"pickTypeData":{"pickType":[{"name":"Manual","code":"Direct5","range":[{"pickMode":"Simple","pickCount":"5,5","pickValue":"","pickConfig":"Number","qpAllowed":"YES"}],"coordinate":null,"description":"Select any 5 numbers from a pool of 1 to 30."}]},"inputCount":"5","winMode":"MAIN","betOrder":1}],"drawRespVOs":[{"drawId":13326,"drawDay":"SUNDAY","drawDateTime":"2023-06-25 21:00:00","drawSaleStartTime":"2023-05-11 06:44:45","drawFreezeTime":"2023-06-25 20:59:55","drawSaleStopTime":"2023-06-25 20:59:45","drawStatus":"ACTIVE","drawNo":13429,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13327,"drawDay":"SUNDAY","drawDateTime":"2023-07-02 21:00:00","drawSaleStartTime":"2023-05-11 06:59:45","drawFreezeTime":"2023-07-02 20:59:55","drawSaleStopTime":"2023-07-02 20:59:45","drawStatus":"ACTIVE","drawNo":13430,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13328,"drawDay":"SUNDAY","drawDateTime":"2023-07-09 21:00:00","drawSaleStartTime":"2023-05-14 20:59:45","drawFreezeTime":"2023-07-09 20:59:55","drawSaleStopTime":"2023-07-09 20:59:45","drawStatus":"ACTIVE","drawNo":13431,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13329,"drawDay":"SUNDAY","drawDateTime":"2023-07-16 21:00:00","drawSaleStartTime":"2023-05-21 20:59:45","drawFreezeTime":"2023-07-16 20:59:55","drawSaleStopTime":"2023-07-16 20:59:45","drawStatus":"ACTIVE","drawNo":13432,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"},{"drawId":13330,"drawDay":"SUNDAY","drawDateTime":"2023-07-23 21:00:00","drawSaleStartTime":"2023-05-24 06:23:04","drawFreezeTime":"2023-07-23 20:59:55","drawSaleStopTime":"2023-07-23 20:59:45","drawStatus":"ACTIVE","drawNo":13433,"drawType":null,"ticketUploaded":false,"GameCode":"DailyLotto2"}],"additionalDrawRespVOs":[],"nativeCurrency":"EUR","drawEvent":"SHARED_DRAW","gameStatus":"SALE_OPEN","gameOrder":"5","consecutiveDraw":"1,2,3,4,5","maxAdvanceDraws":5,"drawPrizeMultiplier":{"createEvent":null,"applyOnBet":"MAIN","multiplier":null},"lastDrawFreezeTime":"","lastDrawDateTime":"","lastDrawSaleStopTime":"2023-05-05 05:44:55","lastDrawTime":"2023-06-05 21:00:00","ticket_expiry":90,"lastDrawWinningResultVOs":[{"lastDrawDateTime":"2023-06-05 21:00:00","winningNumber":"01,02,03,04,05","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13325,"drawNo":13428,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-06-04 21:00:00","winningNumber":"30,16,09,02,12","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13323,"drawNo":13426,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-05-28 21:00:00","winningNumber":"22,29,25,24,02","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":13322,"drawNo":13425,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-04-30 00:00:00","winningNumber":"21,26,32,30,15","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":12297,"drawNo":12400,"totalSaleValue":0.0,"currentDrawStatus":null},{"lastDrawDateTime":"2023-04-19 09:00:00","winningNumber":"10,34,13,15,17","winningMultiplierInfo":{"multiplierCode":null,"value":null},"runTimeFlagInfo":[],"sideBetMatchInfo":[],"drawId":11321,"drawNo":11424,"totalSaleValue":0.0,"currentDrawStatus":null}],"hotNumbers":"[12, 31, 29, 14, 04]","coldNumbers":"[07, 01, 05, 33, 23]","maxPanelAllowed":8,"gameSchemas":{"gameDevName":"DailyLotto","matchDetail":[{"slabInfo":null,"match":"Match 5","rank":1,"type":"PARIMUTUEL","prizeAmount":"2.0E7","betType":"Direct5","pattern":null},{"slabInfo":null,"match":"Match 4","rank":2,"type":"FIXED","prizeAmount":"200000.0","betType":"Direct5","pattern":null},{"slabInfo":null,"match":"Match 3","rank":3,"type":"FIXED","prizeAmount":"10000.0","betType":"Direct5","pattern":null}]},"resultConfigData":{"type":"RNG","balls":"5","ballsPerCall":5,"interval":0,"duplicateAllowed":false},"jackpotAmount":20000000.0,"unitCost":[{"currency":"EUR","price":1.0},{"currency":"THB","price":10.0},{"currency":"USD","price":1.0},{"currency":"BTC","price":1.0},{"currency":"DOGE","price":14.0},{"currency":"LINK","price":1.0},{"currency":"TRX","price":19.0}]}],"currentDate":"2023-06-06 06:19:14"}}';

    dynamic jsonMap = await LotteryRepository.callFetchGameData(context, request, header);

    try {
      var respObj = FetchGameDataResponse.fromJson(jsonMap);
      if (respObj.responseCode == 0) {
        return Result.responseSuccess(data: respObj);

      } else {
        return jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap["occurredErrorDescriptionMsg"] == "No connection" ? Result.networkFault(data: jsonMap) : Result.failure(data: jsonMap) : Result.responseFailure(data: respObj);
      }

    } catch(e) {
      if(jsonMap["occurredErrorDescriptionMsg"] == "No connection") {
        return Result.networkFault(data: jsonMap);

      } else {
        return Result.failure(data: jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap : {"occurredErrorDescriptionMsg": e});
      }
    }
  }

  static Future<Result<dynamic>> callRePrint(BuildContext context, String baseUrl, String relativeUrl, Map<String, dynamic> request) async {
    Map<String, String> header = {
      "username": "LotteryRMS",
      "password": "password"
    };

    ModuleBeanLst? mModuleBeanList = ModuleBeanLst.fromJson(jsonDecode(UserInfo.getDrawGameBeanList));
    MenuBeanList? apiDetails = mModuleBeanList.menuBeanList?.where((element) => element.menuCode == "DGE_REPRINT").toList()[0];
    UrlDrawGameBean? rePrintGameUrlsDetails = getDrawGameUrlDetails(apiDetails!, context, "reprintTicket");

    dynamic jsonMap = await LotteryRepository.callRePrint(context, request, header, baseUrl, relativeUrl, rePrintGameUrlsDetails);

    try {
      var respObj = RePrintResponse.fromJson(jsonMap);
      if (respObj.responseCode == 0) {
        return Result.responseSuccess(data: respObj);

      } else {
        return jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap["occurredErrorDescriptionMsg"] == "No connection" ? Result.networkFault(data: jsonMap) : Result.failure(data: jsonMap) : Result.responseFailure(data: respObj);
      }

    } catch(e) {
      if(jsonMap["occurredErrorDescriptionMsg"] == "No connection") {
        return Result.networkFault(data: jsonMap);

      } else {
        return Result.failure(data: jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap : {"occurredErrorDescriptionMsg": e});
      }
    }
  }

  static Future<Result<dynamic>> callResult(BuildContext context, String baseUrl, String relativeUrl, Map<String, dynamic> request) async {
    Map<String, String> header = {
      "username": "LotteryRMS",
      "password": "password"
    };

    dynamic jsonMap = await LotteryRepository.callResult(context, request, header, baseUrl, relativeUrl);

    try {
      var respObj = ResultResponse.fromJson(jsonMap);
      if (respObj.responseCode == 0) {
        return Result.responseSuccess(data: respObj);

      } else {
        return jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap["occurredErrorDescriptionMsg"] == "No connection" ? Result.networkFault(data: jsonMap) : Result.failure(data: jsonMap) : Result.responseFailure(data: respObj);
      }

    } catch(e) {
      if(jsonMap["occurredErrorDescriptionMsg"] == "No connection") {
        return Result.networkFault(data: jsonMap);

      } else {
        return Result.failure(data: jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap : {"occurredErrorDescriptionMsg": e});
      }
    }
  }

  static Future<Result<dynamic>> callLotterySaleApi(BuildContext context, String baseUrl, String relativeUrl, Map<String, dynamic> request) async {
    Map<String, String> header = {
      "username": "LotteryRMS",
      "password": "password"
    };

    dynamic jsonMap = await LotteryRepository.callLotterySaleApi(context, request, header, baseUrl, relativeUrl);

    try {
      var respObj = SaleResponseBean.fromJson(jsonMap);
      if (respObj.responseCode == 0) {
        return Result.responseSuccess(data: respObj);

      } else {
        return jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap["occurredErrorDescriptionMsg"] == "No connection" ? Result.networkFault(data: jsonMap) : Result.failure(data: jsonMap) : Result.responseFailure(data: respObj);
      }

    } catch(e) {
      if(jsonMap["occurredErrorDescriptionMsg"] == "No connection") {
        return Result.networkFault(data: jsonMap);

      } else {
        return Result.failure(data: jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap : {"occurredErrorDescriptionMsg": e});
      }
    }
  }

  static Future<Result<dynamic>> callCancelTicket(BuildContext context, String baseUrl, String relativeUrl, Map<String, dynamic> request) async {
    Map<String, String> header = {
      "username": "LotteryRMS",
      "password": "password"
    };

    dynamic jsonMap = await LotteryRepository.callCancelTicket(context, request, header, baseUrl, relativeUrl);

    try {
      var respObj = CancelTicketResponse.fromJson(jsonMap);
      if (respObj.responseCode == 0) {
        return Result.responseSuccess(data: respObj);

      } else {
        return jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap["occurredErrorDescriptionMsg"] == "No connection" ? Result.networkFault(data: jsonMap) : Result.failure(data: jsonMap) : Result.responseFailure(data: respObj);
      }

    } catch(e) {
      if(jsonMap["occurredErrorDescriptionMsg"] == "No connection") {
        return Result.networkFault(data: jsonMap);

      } else {
        return Result.failure(data: jsonMap["occurredErrorDescriptionMsg"] != null ? jsonMap : {"occurredErrorDescriptionMsg": e});
      }
    }
  }

}